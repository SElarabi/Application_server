<!-- @format -->

<!DOCTYPE html>
<html>
	<head>
		<!-- libraries & styles -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
			crossorigin="anonymous"
		/>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/superagent/3.8.3/superagent.min.js"></script>
		<link
			rel="stylesheet"
			href="styles_1.css"
		/>
	</head>
	<body style="padding: 50px">
		<!-- user interface -->
		<div
			id="slideCanvas"
			class="carousel slide"
			data-bs-ride="carousel"
		>
			<div class="carousel-inner"></div>
			<button
				class="carousel-control-prev"
				type="button"
				data-bs-target="#slideCanvas"
				data-bs-slide="prev"
			>
				<span
					class="carousel-control-prev-icon"
					aria-hidden="true"
				></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button
				class="carousel-control-next"
				type="button"
				data-bs-target="#slideCanvas"
				data-bs-slide="next"
			>
				<span
					class="carousel-control-next-icon"
					aria-hidden="true"
				></span>
				<span class="visually-hidden">Next</span>
			</button>
		</div>

		<!-- JavaScript -->
		<script>
			// query server and list users

			function data() {
				const slideCanvas = document.getElementById('slideCanvas');
				const url = '/data';

				superagent.get(url).end(function (err, res) {
					if (err) {
						console.log(err);
					} else {
						console.log(res.body);
						const carouselInner = slideCanvas.querySelector('.carousel-inner');

						res.body.forEach((user, index) => {
							const isActive = index === 0 ? 'active' : '';
							carouselInner.innerHTML += `
												<div class="carousel-item ${isActive}">
													<div class="card" style="min-width: 18rem;">
                          	<img class="card-img-top" src="${user.avatar}" alt="Card image cap">
                        		<div class="card-body">
                            	<h5 class="card-title">${user.name}</h5>
                            	<p class="card-text">
                                DOB: ${user.dob}<br>
                                email: ${user.email}<br>
                                username: ${user.username}<br>
                                password: ${user.password}<br>
                                phone: ${user.phone}<br>
                                streetaddress: ${user.streetaddress}<br>
                                citystatezip: ${user.citystatezip}<br>
                                lat/lon: ${user.latitude},${user.longitude}
                            	</p>
															
												  </div>
													<a href="/" class="btn btn-primary">Home Page</a>
                      </div>
						
							`;
							console.log('user ===', user, '  index ===>', index);
						});
					}
				});
			}

			data();
		</script>

		<!-- Bootstrap JavaScript -->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
			integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
			integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
			crossorigin="anonymous"
		></script>
	</body>
</html>
