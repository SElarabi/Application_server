<!-- @format -->

<!DOCTYPE html>
<html>
	<link
		rel="stylesheet"
		href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	/>
	<style>
		a {
			font-size: 2em;
		}
	</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/superagent/3.8.3/superagent.min.js"></script>
	<body>
		<div id="header"></div>
		<main
			role="main"
			class="container"
			style="margin-top: 20px"
		>
			<h1 class="display-4">Navigation</h1>
			<ul class="nav flex-column">
				<li class="nav-item">
					<a
						class="nav-link active"
						href="addUser.html"
						>Add User</a
					>
				</li>
				<li class="nav-item">
					<a
						class="nav-link active"
						href="deleteFirstUser.html"
						>Delete First user In the List</a
					>
				</li>

				<li class="nav-item">
					<a
						class="nav-link"
						href="allUsers.html"
						>List All Users (formatted)</a
					>
				</li>
				<li class="nav-item">
					<a
						class="nav-link"
						href="data.html"
						>List all Users (raw)</a
					>
				</li>
				<li class="nav-item">
					<a
						class="nav-link"
						href="allUsersSlides.html"
						>Users List Slide Show
					</a>
				</li>
			</ul>
		</main>
		<script>
			function data() {
				const url = '/data';
				const header = document.getElementById('header');
				superagent.get(url).end(function (err, res) {
					if (err) {
						console.log(err);
					} else {
						html = '<div class="grid-container">';
						// res.body is he data stored in the db.json
						console.log(res.body.length);
						if (res.body.length === 0) {
							html += `
								<h1 class="display-4 bg-warning text-center"> THE USER LIST IS EMPTY, ADD USERS </h1>
								</div>
						`;
						} else {
							html += `
								<h1 class="display-4 bg-info text-center"> TOTAL USERS IN THE LIST IS = ${res.body.length}</h1>
								</div>
						`;
						}
					}
					header.innerHTML = html;
				});
			}
			data();
		</script>
	</body>
</html>
